(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{529:function(t,v,r){"use strict";r.r(v);var n=r(4),_=Object(n.a)({},(function(){var t=this,v=t.$createElement,r=t._self._c||v;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("p",[t._v("个人感觉git比起svn有着太多的优势了。\n本文议论一下git和svn，以及团队协作的开发模式。\n")]),t._v(" "),r("h2",{attrs:{id:"svn开发模式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#svn开发模式"}},[t._v("#")]),t._v(" SVN开发模式")]),t._v(" "),r("p",[t._v("在CVS年代，甚至到SVN的年代，许多中小型开发团队的开发流程是这样的：\n"),r("a",{attrs:{href:"http://blog.sina.com.cn/s/blog_6168c7aa0101ph0q.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("这个"),r("OutboundLink")],1),t._v("说得挺清楚的。\n一般有两种开发方式。")]),t._v(" "),r("h3",{attrs:{id:"集中式开发"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#集中式开发"}},[t._v("#")]),t._v(" 集中式开发")]),t._v(" "),r("ol",[r("li",[t._v("开始一天新的开发工作，打开电脑，从trunk中同步所有代码到本地。")]),t._v(" "),r("li",[t._v("改改改。")]),t._v(" "),r("li",[t._v("差不多1个小时了，这个过程没写完，先这样吧能编译就行，开始提交版本。")]),t._v(" "),r("li",[t._v("同步trunk到本地，解决conflict，上传。")]),t._v(" "),r("li",[t._v("看看离下班还有多久，大于30分钟则去2。")]),t._v(" "),r("li",[t._v("晃到下班走人。")])]),t._v(" "),r("h3",{attrs:{id:"分散式开发"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#分散式开发"}},[t._v("#")]),t._v(" 分散式开发")]),t._v(" "),r("ol",[r("li",[t._v("新功能开发，分配任务。分配到任务qqq。")]),t._v(" "),r("li",[t._v("创建从trunk中检出（checkout）所有文件到本地；创建branches/dev_1.1.2_qqq文件夹，提交所有文件到该文件夹（于是创建了分支，是copy过去的）。")]),t._v(" "),r("li",[t._v("改改改。")]),t._v(" "),r("li",[t._v("提交到branches/dev_1.1.2_qqq。")]),t._v(" "),r("li",[t._v("完成qqq了吗？没有则跳转到3。")]),t._v(" "),r("li",[t._v("合并branches/dev_1.1.2_qqq到trunk，解决所有冲突问题。")]),t._v(" "),r("li",[t._v("中途随时下班可以upload所有东西到branches/dev_1.1.2_qqq，随时上班可以从branches/dev_1.1.2_qqq同步所有东西下来。")])]),t._v(" "),r("h2",{attrs:{id:"svn与git的区别"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#svn与git的区别"}},[t._v("#")]),t._v(" svn与git的区别")]),t._v(" "),r("p",[t._v("感觉其实跟使用git差不了太多是吧？\n看看这篇"),r("a",{attrs:{href:"https://github.com/xirong/my-git/blob/master/why-git.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("my-git"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("p",[t._v("我觉得其中最大的区别是：")]),t._v(" "),r("ol",[r("li",[t._v("内容控制git是以“行”为单位的，更关注变化；而svn是以文件为单位的，更关注区别；所以svn更容易"),r("a",{attrs:{href:"http://blog.csdn.net/windone0109/article/details/4857044",target:"_blank",rel:"noopener noreferrer"}},[t._v("产生冲突"),r("OutboundLink")],1),t._v("（好像就没办法auto merge好么！）。")]),t._v(" "),r("li",[t._v("git（和hg）是分布式仓储，而svn（和cvs）是集中式的。什么意思呢？那是svn所有的提交检出操作，都是联网进行的，都是跟服务器通信的，没有本地仓储。")]),t._v(" "),r("li",[t._v("速度。")])]),t._v(" "),r("h3",{attrs:{id:"冲突"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#冲突"}},[t._v("#")]),t._v(" 冲突")]),t._v(" "),r("p",[t._v("你看看刚刚"),r("a",{attrs:{href:"http://blog.csdn.net/windone0109/article/details/4857044",target:"_blank",rel:"noopener noreferrer"}},[t._v("这个博客"),r("OutboundLink")],1),t._v("里怎么写的：")]),t._v(" "),r("blockquote",[r("p",[t._v("如何降低冲突解决的复杂度：\n1、当文档编辑完成后，尽快提交，频繁的提交/更新可以降低在冲突发生的概率，以及发生时解决冲突的复杂度。\n2、在提交时，写上明确的message，方便以后查找用户更新的原因，毕竟随着时间的推移，对当初更新的原因有可能会遗忘\n3、养成良好的使用习惯，使用SVN时每次都是先提交，后更新。每天早上打开后，首先要从版本库获取最新版本。每天下班前必须将已经编辑过的文档都提交到版本库。")])]),t._v(" "),r("p",[t._v("就是提交、提交、提交！更新、更新、更新！\n很容易就改同一个文件好不好！\n只要改同一个文件就是冲突！\n是冲突就得自己处理！")]),t._v(" "),r("h4",{attrs:{id:"注意"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),r("p",[t._v("不过实际上，git merge的时候，如果同样两个文件被修改，即使合并成功了，也应该自己评审一遍。\n因为自动合并是会出问题的，比如"),r("a",{attrs:{href:"http://coolshell.cn/articles/11112.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("由苹果的低级Bug想到的"),r("OutboundLink")],1),t._v("这篇文章。\n自动合并是基于文本(行)而不是基于语法，所以有可能发生上述问题。")]),t._v(" "),r("p",[t._v("不管怎样，自动合并简直就是神器！！快谢谢它。")]),t._v(" "),r("h3",{attrs:{id:"集中式-vs-分布式-仓储"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#集中式-vs-分布式-仓储"}},[t._v("#")]),t._v(" 集中式 vs 分布式 仓储")]),t._v(" "),r("p",[t._v("git在刚刚学习的时候觉得很奇怪，working directory是什么啊，local repository是什么啊，checkout 和 pull 还有merge又是什么鬼！\n的确这个比svn的commit/update复杂一点点，那是因为这相当于在本地架设了一个svn服务器，并提供了简单灵活的同步管理工具好不好！")]),t._v(" "),r("p",[t._v("有人觉得集中式仓储还是有好处的，比如代码安全性，防盗啊！\n难道svn就不能盗走了吗？我有朋友的亲戚公司的代码被程序员删了走人的。离职前把代码拷走更是正常不过。\n说真的，防抄袭这种事情只能靠程序员的个人职业操守、和签署的非竞协议。")]),t._v(" "),r("p",[t._v("本地分支啊，多爽啊！")]),t._v(" "),r("p",[t._v("对，还没说到重点")]),t._v(" "),r("h4",{attrs:{id:"重点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#重点"}},[t._v("#")]),t._v(" 重点")]),t._v(" "),r("p",[t._v("重点是，一旦连不上svn服务器你就傻逼了。在公司万一svn服务器一卡一断网，就可以喝咖啡放假了。更别提什么回家写、咖啡厅图书馆写、边做火车边写什么的。\n你checkout一个代码，等通过svn服务器；提交一个代码，得通过svn服务器；查一个日志，得通过svn服务器；对比一个改动，得通过svn服务器。\n而且，就算在公司局域网里，svn操作也非、常、慢！")]),t._v(" "),r("h2",{attrs:{id:"集中式-vs-分散式-开发"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#集中式-vs-分散式-开发"}},[t._v("#")]),t._v(" 集中式 vs 分散式 开发")]),t._v(" "),r("p",[t._v("不管是git还是svn，都有集中式和分散式开发方式的区别。（其实这里分散式和分布式是一个意思，我沿用某篇引用博客的说法，而他使用这个说法估计是为了不要引起误解）")]),t._v(" "),r("p",[t._v("我是强烈推荐分散式开发的，正如我强烈推荐分布式代码管理一样。\n当然我不认为“各自开发3个月，然后凑在一起试一下，然后合并代码”是对的。\n分散式开发中，一个临时开发分支的生命周期应该是几小时至几天不等。如果一个临时开发分支需要存活十几天甚至一两个月的话，考虑拆分任务。")]),t._v(" "),r("p",[t._v("正因为分散式开发对分支高度的需求，使得分布式仓储对比集中式仓储有着极大的优势。")]),t._v(" "),r("h2",{attrs:{id:"速度"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#速度"}},[t._v("#")]),t._v(" 速度")]),t._v(" "),r("p",[t._v("git的速度大大大于svn的速度，具体原因涉及其具体实现，不解释。\ngit支持本地文件、ssh、git、http四种协议，口味很广。")]),t._v(" "),r("h2",{attrs:{id:"二进制"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#二进制"}},[t._v("#")]),t._v(" 二进制")]),t._v(" "),r("p",[t._v("我们现在更多的是git。git关注于文本文件的变化，它的观察是以“行”为单位的。\n通常我不希望在我们的git仓储中带上二进制文件如：doc、jpg、png、gif、mp3、avi等，甚至是pdf。（希望用html或者md来代替）\nCVS和SVN对文本文件和二进制文件的口味比较不挑，经常研发经理会把编译好的安装包，服务器打包文件，文档（doc+jpg），甚至连一些需要预安装的库和程序也打包进来，仓储起来。\n似乎是因为git不管你二进制的东西是什么，它都会帮你压缩一遍，而像刚刚说的jpg、mp3，还有一些个zip、mkv等文件是压不了多少空间的，压缩反倒浪费时间。\n这里涉及其设计哲学。git设计者认为你就不应该往这里扔大的文件，不是我不对，是你不会用。git主要面向文本文件（最好是源码）、以及小文件（比如小于10kb）。\n而二进制文件，你不压怎么知道压不压地动呢？那些个压不动的文件之所以压不动，那是因为他们已经被压过了。\n压过的文件你就更不应该往git里传了。")]),t._v(" "),r("p",[t._v("似乎这里svn还有点用，可以用来放文档、压缩包、安装包（安装包也自动被压过的）啊！\n但是"),r("a",{attrs:{href:"https://git-lfs.github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("lfs"),r("OutboundLink")],1),t._v("一出，就没svn什么事了，除非那些懒得学lfs的。（我有空研究一下lfs）")]),t._v(" "),r("h2",{attrs:{id:"适用性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#适用性"}},[t._v("#")]),t._v(" 适用性")]),t._v(" "),r("p",[t._v("基于文本文件的项目，都应该考虑git。\ngit更强于移动开发。\n强于大规模项目。\n强于超小型项目。")]),t._v(" "),r("p",[t._v("svn只适用于中小型项目组，而且他们懒得学git的。\n或者设计师什么的，而且他们的作品都是二进制的那种。")]),t._v(" "),r("p",[t._v("而且svn还得自己买研发服务器，否则网一卡你就哭。")])])}),[],!1,null,null,null);v.default=_.exports}}]);